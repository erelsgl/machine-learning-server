module.exports = function browserType(){
	return function(req,res,next){

	req.isIE = 
	req.isIE6 =  
	req.isIE7 =  
	req.isIE8 =  
	req.isIE9 =  
	req.isIE10 =  
	req.isChrome = 
	req.isOpera = 
	req.isFirefox = 
	req.isSafari = false;

	var ua = req.headers['user-agent'];
	var bt = ""	

	if(ua.indexOf('MSIE 6') != -1){
		bt = 'ie6'	
		req.isIE = true;
		req.isIE6 = true;
	}else if(ua.indexOf('MSIE 7') !=-1){
		bt = 'ie7'	
		req.isIE = true;
		req.isIE7 = true;
	}else if(ua.indexOf('MSIE 8') != -1 ){
		bt = 'ie8'	
		req.isIE = true;
		req.isIE8 = true;
	}else if(ua.indexOf('MSIE 9') != -1){
		bt = 'ie9'	
		req.isIE = true;
		req.isIE9 = true;
	}else if(ua.indexOf('MSIE 10') != -1){
		bt = 'ie10'	
		req.isIE = true;
		req.isIE10 = true;
	}else if(ua.indexOf('Chrome') != -1){
		bt = 'chrome'
		req.isChrome = true;
	}else if(ua.indexOf('Chrome') == -1 && ua.indexOf('Safari') != -1){
		bt = 'safari'
		req.isSafari = true;
	}else if(ua.indexOf('Firefox') != -1){
		bt = 'firefox'
		req.isFirefox = true;
	}else if(ua.indexOf('Opera') != -1){
		bt = 'opera'
		req.isOpera = true;
	}

	req.browser = req.browserType = bt;

	next();
	}
}
